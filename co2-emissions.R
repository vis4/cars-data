needs(readr, dplyr, ggplot2, stringr)

setwd("~/projects/datawrapper/weekly-charts/cars")

models <- read_csv('models.csv')
specs <- read_csv('specs.csv')

specs %>%
  unique() %>%
  pivot_wider(names_from = metric, values_from = value) %>%
  left_join(models, by = c('type' = 'key')) %>% 
  mutate()

hr [1]>       <chr [1]> <chr [1… <chr [1…
 2 abarth-500-1.4-16v-t-jet-specs/1                    <chr [1]>       <chr [1]> <chr [1… <chr [1…
 3 fiat-500-twinair-80-society-edition-specs/70363     <chr [1]>       <chr [1]> <chr [1… <chr [1…
 4 abarth-500c-1.4-16v-t-jet-competizione-specs/3      <chr [1]>       <chr [1]> <chr [1… <chr [1…
 5 abarth-595-1.4-t-jet-180-competizione-specs/73533   <chr [1]>       <chr [1]> <chr [1… <chr [1…
 6 abarth-595-cabrio-1.4-t-jet-180-competizione-specs… <chr [1]>       <chr [1]> <chr [1… <chr [1…
 7 abarth-695-biposto-specs/79910                      <chr [1]>       <chr [1]> <chr [1… <chr [1…
 8 abarth-695-cabrio-1.4-t-jet-165-yamaha-specs/79911  <chr [1]>       <chr [1]> <chr [1… 